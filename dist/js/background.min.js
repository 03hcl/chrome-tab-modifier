chrome.runtime.onMessage.addListener(function(e,t,a){switch(e.method){case"getSettings":a({data:{tab_id:t.tab.id,settings:localStorage.settings}});break;case"setUnique":chrome.tabs.get(e.tabId,function(t){var a=t;chrome.tabs.query({},function(t){var i,d;for(i in t)d=t[i],-1!==d.url.indexOf(e.match)&&(chrome.tabs.update(d.id,{highlighted:!0}),d.id!==a.id&&chrome.tabs.remove(a.id))})});break;case"setPinned":chrome.tabs.update(e.tabId,{pinned:!0});break;default:a({})}});