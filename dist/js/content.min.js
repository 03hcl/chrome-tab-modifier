var Tab=function(e,n,t){var i,l,o,r,a=null,c=null,u=null;for(var d in t)if(-1!==e.indexOf(d)){a=t[d].title||null,c=t[d].icon||null,u=t[d].pinned||null;break}return i=function(){null!==a&&(a=-1!==a.indexOf("{title}")?a.replace("{title}",n):a)},i(),l=function(){return a},o=function(){return c},r=function(){return u},{getTitle:l,getIcon:o,getPinned:r}};chrome.runtime.sendMessage({method:"getSettings"},function(e){var n=e.data;if(void 0!==n){var t=new Tab(location.href,document.title,JSON.parse(n.settings));if(null!==t.getTitle()&&(document.title=t.getTitle()),t.getPinned()===!0&&chrome.runtime.sendMessage({method:"setPinned",tabId:n.tab_id}),null!==t.getIcon()){var i,l,o;i=document.querySelectorAll('head link[rel*="icon"]'),Array.prototype.forEach.call(i,function(e){e.parentNode.removeChild(e)}),l="{default}"===t.getIcon()?chrome.extension.getURL("/img/default_favicon.png"):t.getIcon(),o=document.createElement("link"),o.type="image/x-icon",o.rel="icon",o.href=l,document.getElementsByTagName("head")[0].appendChild(o)}}});